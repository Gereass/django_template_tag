# Django Tree Menu Application

## Описание проекта

Это *Django*-приложение реализует древовидное меню с использованием **template tag**. Меню хранится в базе данных, редактируется через стандартную админку Django и отрисовывается на страницах с соблюдением следующих условий:

1. Меню реализовано через **template tag** `{% draw_menu 'menu_name' %}`.
2. Все пункты выше активного и первый уровень вложенности под активным пунктом развернуты.
3. Меню хранится в базе данных.
4. Меню редактируется через стандартную админку *Django*.
5. Активный пункт определяется исходя из URL текущей страницы.
6. На одной странице может быть несколько меню, которые определяются по названию.
7. При клике на пункт меню происходит переход по заданному URL (явный или именованный).
8. На отрисовку каждого меню требуется ровно **один запрос к БД**.

---
## Установка и запуск
1. Установите и запустите виртуальное окружение:
```bash
python3 -m venv env
source env/bin/activate
```
2. Клонирование репозитория

```bash
git clone git@github.com:Gereass/django_template_tag.git 
```
3. Установка зависимостей

```bash
pip install -r requirements.txt
```
4. Применение миграций

```bash
python3 manage.py makemigrations
python3 manage.py migrate
```
5. Создание суперпользователя для доступа к админке:

```bash
python3 manage.py createsuperuser
```
6. Запуск сервера

#### Запустите сервер либо вручную, либо через Docker

```bash
python manage.py runserver
```
#### Перейдите по адресу `http://localhost:8000`, чтобы увидеть приложение.

## Docker
Проект включает файлы *Dockerfile* и *docker-compose.yml* для контейнеризации.

1. Сборка и запуск контейнеров
Соберите и запустите контейнер:
```bash
docker compose up --build
```
##### или  для фоновой рабоыт контейнера: 

```bash
docker compose up --build -d 
```
2. Остановка контейнеров
Остановите контейнер:
```bash
docker compose down
```
### примечание:
- Не забудьте в ручную создать суппер пользователя после первой сборки контейнера. 

## Использование
1. Добавление меню через админку
- Перейдите в админку *Django* (`/admin/`).
- Добавьте пункты меню через модель MenuItem.
- Укажите название, *URL* или именованный *URL*, а также родительский элемент (если есть).
2. Осуществляйте переход по нужному *URL* либо вводя его в строку ввода либо непосредственно нажимая на пункт на странице
